'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _utilsErrorHandler = require('../utils/ErrorHandler');

/**
 * call must be scoped to the webdriverio client
 */
var handleMouseButtonCommand = function handleMouseButtonCommand(selector, button) {
    var _this = this;

    /**
     * mobile only supports simple clicks
     */
    if (this.isMobile) {
        if (!selector) {
            throw new _utilsErrorHandler.ProtocolError('the leftClick/middleClick/rightClick command requires an element to click on');
        }

        return this.click(selector);
    }

    /**
     * just press button if no selector is given
     */
    if (!selector) {
        return this.buttonPress(button);
    }

    return this.element(selector).then(function (res) {
        return _this.moveTo(res.value.ELEMENT).buttonPress(button);
    });
};

exports['default'] = handleMouseButtonCommand;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oZWxwZXJzL2hhbmRsZU1vdXNlQnV0dG9uQ29tbWFuZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7aUNBQThCLHVCQUF1Qjs7Ozs7QUFLckQsSUFBSSx3QkFBd0IsR0FBRyxTQUEzQix3QkFBd0IsQ0FBYSxRQUFRLEVBQUUsTUFBTSxFQUFFOzs7Ozs7QUFJdkQsUUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO0FBQ2YsWUFBSSxDQUFDLFFBQVEsRUFBRTtBQUNYLGtCQUFNLHFDQUFrQiw4RUFBOEUsQ0FBQyxDQUFBO1NBQzFHOztBQUVELGVBQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQTtLQUM5Qjs7Ozs7QUFLRCxRQUFJLENBQUMsUUFBUSxFQUFFO0FBQ1gsZUFBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0tBQ2xDOztBQUVELFdBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxHQUFHO2VBQ25DLE1BQUssTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQztLQUFBLENBQUMsQ0FBQTtDQUMxRCxDQUFBOztxQkFFYyx3QkFBd0IiLCJmaWxlIjoiaGFuZGxlTW91c2VCdXR0b25Db21tYW5kLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvdG9jb2xFcnJvciB9IGZyb20gJy4uL3V0aWxzL0Vycm9ySGFuZGxlcidcblxuLyoqXG4gKiBjYWxsIG11c3QgYmUgc2NvcGVkIHRvIHRoZSB3ZWJkcml2ZXJpbyBjbGllbnRcbiAqL1xubGV0IGhhbmRsZU1vdXNlQnV0dG9uQ29tbWFuZCA9IGZ1bmN0aW9uIChzZWxlY3RvciwgYnV0dG9uKSB7XG4gICAgLyoqXG4gICAgICogbW9iaWxlIG9ubHkgc3VwcG9ydHMgc2ltcGxlIGNsaWNrc1xuICAgICAqL1xuICAgIGlmICh0aGlzLmlzTW9iaWxlKSB7XG4gICAgICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQcm90b2NvbEVycm9yKCd0aGUgbGVmdENsaWNrL21pZGRsZUNsaWNrL3JpZ2h0Q2xpY2sgY29tbWFuZCByZXF1aXJlcyBhbiBlbGVtZW50IHRvIGNsaWNrIG9uJylcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNsaWNrKHNlbGVjdG9yKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGp1c3QgcHJlc3MgYnV0dG9uIGlmIG5vIHNlbGVjdG9yIGlzIGdpdmVuXG4gICAgICovXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gdGhpcy5idXR0b25QcmVzcyhidXR0b24pXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudChzZWxlY3RvcikudGhlbigocmVzKSA9PlxuICAgICAgICB0aGlzLm1vdmVUbyhyZXMudmFsdWUuRUxFTUVOVCkuYnV0dG9uUHJlc3MoYnV0dG9uKSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlTW91c2VCdXR0b25Db21tYW5kXG4iXX0=
