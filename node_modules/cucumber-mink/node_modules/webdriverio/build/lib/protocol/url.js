/**
 *
 * Protocol binding to load or get the URL of the browser.
 *
 * <example>
    :url.js
    // Retrieve the URL of the current page.
    client.url(function(err,res) { ... });

    // navigate to a new URL
    client.url('http://webdriver.io');
 * </example>
 *
 * @param {String=} url  the URL to navigate to
 * @returns {String}     the current URL
 *
 * @see  https://code.google.com/p/selenium/wiki/JsonWireProtocol#/session/:sessionId/url
 * @type protocol
 *
 */

'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
var url = function url(uri) {
    var data = {};

    if (typeof uri === 'string') {
        data.url = uri;

        if (typeof this.options.baseUrl === 'string' && data.url.indexOf('/') === 0) {
            data.url = this.options.baseUrl + data.url;
        }
    }

    return this.requestHandler.create('/session/:sessionId/url', data);
};

exports['default'] = url;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9wcm90b2NvbC91cmwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFxQkEsSUFBSSxHQUFHLEdBQUcsU0FBTixHQUFHLENBQWEsR0FBRyxFQUFFO0FBQ3JCLFFBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQTs7QUFFYixRQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtBQUN6QixZQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQTs7QUFFZCxZQUFJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEtBQUssUUFBUSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUN6RSxnQkFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFBO1NBQzdDO0tBQ0o7O0FBRUQsV0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyx5QkFBeUIsRUFBRSxJQUFJLENBQUMsQ0FBQTtDQUNyRSxDQUFBOztxQkFFYyxHQUFHIiwiZmlsZSI6InVybC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICpcbiAqIFByb3RvY29sIGJpbmRpbmcgdG8gbG9hZCBvciBnZXQgdGhlIFVSTCBvZiB0aGUgYnJvd3Nlci5cbiAqXG4gKiA8ZXhhbXBsZT5cbiAgICA6dXJsLmpzXG4gICAgLy8gUmV0cmlldmUgdGhlIFVSTCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICAgIGNsaWVudC51cmwoZnVuY3Rpb24oZXJyLHJlcykgeyAuLi4gfSk7XG5cbiAgICAvLyBuYXZpZ2F0ZSB0byBhIG5ldyBVUkxcbiAgICBjbGllbnQudXJsKCdodHRwOi8vd2ViZHJpdmVyLmlvJyk7XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogQHBhcmFtIHtTdHJpbmc9fSB1cmwgIHRoZSBVUkwgdG8gbmF2aWdhdGUgdG9cbiAqIEByZXR1cm5zIHtTdHJpbmd9ICAgICB0aGUgY3VycmVudCBVUkxcbiAqXG4gKiBAc2VlICBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3NlbGVuaXVtL3dpa2kvSnNvbldpcmVQcm90b2NvbCMvc2Vzc2lvbi86c2Vzc2lvbklkL3VybFxuICogQHR5cGUgcHJvdG9jb2xcbiAqXG4gKi9cblxubGV0IHVybCA9IGZ1bmN0aW9uICh1cmkpIHtcbiAgICBsZXQgZGF0YSA9IHt9XG5cbiAgICBpZiAodHlwZW9mIHVyaSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZGF0YS51cmwgPSB1cmlcblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5iYXNlVXJsID09PSAnc3RyaW5nJyAmJiBkYXRhLnVybC5pbmRleE9mKCcvJykgPT09IDApIHtcbiAgICAgICAgICAgIGRhdGEudXJsID0gdGhpcy5vcHRpb25zLmJhc2VVcmwgKyBkYXRhLnVybFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdEhhbmRsZXIuY3JlYXRlKCcvc2Vzc2lvbi86c2Vzc2lvbklkL3VybCcsIGRhdGEpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHVybFxuIl19
